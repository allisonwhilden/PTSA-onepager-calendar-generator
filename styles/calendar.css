/* Basic styles for A4/Letter one-pager calendar */
@page {
  size: Letter;
  margin: 18pt 18pt 20pt 18pt; /* tighten to fit on one page */
}
:root{
  --bg: #ffffff;
  --ink: #1f2937;
  --muted: #6b7280;
  --accent: #2563eb;
  --no-school: #ef4444;   /* rgb(239,68,68) */
  --half-day: #f59e0b;    /* rgb(245,158,11) */
  --first-last: #10b981;  /* rgb(16,185,129) */
  --early-release: #8b5cf6; /* rgb(139,92,246) */
  --ptsa: #0ea5e9;        /* rgb(14,165,233) */
  --gap: 6pt;
  --radius: 6pt;
  --font: "Inter", "Helvetica Neue", Arial, sans-serif;
}
* { box-sizing: border-box; }
html, body {
  color: var(--ink);
  background: var(--bg);
  font-family: var(--font);
  font-size: 8.5pt; /* slightly smaller to ensure fit */
  line-height: 1.3;
}
.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #111;
  color: #fff;
  padding: 8pt 10pt;
}
.topbar .title { font-size: 16pt; font-weight: 700; color: #fff; }
.topbar .subtle { color: #e5e7eb; }
.subtle { color: var(--muted); }

/* Column layout: months block then below section */
.layout-col { display: flex; flex-direction: column; gap: 10pt; }
.year-grid.full-width {
  display: flex;
  flex-wrap: wrap;
  gap: var(--gap);
}
.month {
  border: 1pt solid #cbd5e1;
  border-radius: 4pt;
  padding: 4pt;
  width: calc((100% - (3 * var(--gap))) / 4);
  break-inside: avoid;
  background: #fff;
}
.month header {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  font-weight: 700;
  margin-bottom: 2pt;
}
/* month grid as table for predictable layout */
.month-grid { width: 100%; border-collapse: collapse; table-layout: fixed; }
.month-grid thead th {
  background: #e5e7eb;
  color: #111827;
  font-weight: 700;
  font-size: 7.5pt;
  padding: 2pt 0;
  border: 1pt solid #cbd5e1;
}
.month-grid tbody td {
  position: relative;
  height: 17pt;
  border: 1pt solid #e5e7eb;
  vertical-align: middle;
  text-align: center;
}
.month-grid td .num {
  position: absolute;
  top: 1.5pt;
  right: 2.5pt;
  font-size: 7pt;
  color: #111827;
}
.day.empty { background: transparent; }
/* Replace color-mix with rgba tints for compatibility */
.day.mark-no_school { background: #f3f4f6; }
.day.mark-half_day { background: #e5e7eb; }
.day.mark-first_day, .day.mark-last_day { outline: 2pt solid #111; }
.day.mark-early_release { background: #f3f4f6; }
.day.mark-ptsa_event { outline: 1pt dashed #0ea5e9; }

/* Right: Important Dates + Legend */
.below { display: grid; grid-template-columns: 2fr 1fr; gap: 10pt; }
.section-title {
  grid-column: 1 / -1;
  background: #111;
  color: #fff;
  padding: 4pt 6pt;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: .5pt;
}
.legend-title {
  background: #e5e7eb;
  padding: 4pt 6pt;
  font-weight: 700;
  border: 1pt solid #cbd5e1;
  border-bottom: none;
}
.legend {
  border: 1pt solid #cbd5e1;
}
.legend ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 4pt;
}
.legend li {
  display: flex;
  align-items: center;
  gap: 6pt;
  font-size: 8pt;
}
.legend li > .chip { flex: 0 0 10pt; }
.chip { width: 10pt; height: 10pt; border-radius: 2pt; }
.chip.no_school { background: var(--no-school); }
.chip.half_day { background: var(--half-day); }
.chip.first_last { background: var(--first-last); }
.chip.early_release { background: var(--early-release); }
.chip.ptsa_event { background: var(--ptsa); border: 1px solid #0369a1; }

.important ul {
  margin: 0;
  padding-left: 14pt;
  columns: 2;
  column-gap: 16pt;
}
.footer {
  margin-top: 6pt;
  font-size: 7.5pt;
  color: var(--muted);
  display: flex;
  justify-content: space-between;
}

/* Avoid page breaks inside key blocks */
.month, .sidebar, .legend, .important { page-break-inside: avoid; }
