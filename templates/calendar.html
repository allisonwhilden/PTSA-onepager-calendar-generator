{% extends "base.html" %}
{% block body %}
<div class="header">
  <div class="title">{{ header.title }}</div>
  <div class="subtle">{{ header.subtitle }}</div>
</div>

<div class="layout-col">
  <section class="year-grid full-width">
    {% for m in months %}
    <article class="month">
      <header>
        <div>{{ m.name }} {{ m.year }}</div>
        <div class="subtle">{{ m.note or "" }}</div>
      </header>
      <table class="month-grid" aria-hidden="true">
        <thead>
          <tr class="dow">
            <th>Su</th><th>Mo</th><th>Tu</th><th>We</th><th>Th</th><th>Fr</th><th>Sa</th>
          </tr>
        </thead>
        <tbody>
          {% for week in m.cells|batch(7) %}
          <tr>
            {% for c in week %}
              {% if c == "" %}
                <td class="day empty"></td>
              {% else %}
                <td class="day{% for t in c.marks %} mark-{{ t }}{% endfor %}"><span class="num">{{ c.day }}</span></td>
              {% endif %}
            {% endfor %}
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </article>
    {% endfor %}
  </section>

  <section class="below">
    <section class="important">
      <h3>Important Dates</h3>
      <ul>
        {% for e in important %}
          <li><strong>{{ e.when }}</strong> â€” {{ e.label }}{% if e.notes %} <span class="subtle">({{ e.notes }})</span>{% endif %}</li>
        {% endfor %}
      </ul>
    </section>
    <section class="legend">
      <h3>Key</h3>
      <ul>
        <li><span class="chip no_school"></span> No School</li>
        <li><span class="chip half_day"></span> Half Day</li>
        <li><span class="chip first_last"></span> First/Last Day</li>
        <li><span class="chip early_release"></span> Early Release</li>
        <li><span class="chip ptsa_event"></span> PTSA Event</li>
      </ul>
    </section>
  </section>

  <div class="footer">
    <div>Updated {{ meta.generated_at }}</div>
    <div>{{ meta.source_note }}</div>
  </div>
</div>
{% endblock %}
